<!-- antv g6 cdn -->
<script src="https://gw.alipayobjects.com/os/antv/pkg/_antv.g6-3.4.7/dist/g6.min.js"></script>
<body>
    <div id="container" />
</body>
<script>
    const data = {
        id: 'Realm',
        children: [{
                id: 'Global Objects',
                children: [{
                        id: 'Value Properties of the Global Object',
                        children: [
                            { id: 'this'},
                            Infinity,
                            NaN,
                            { id: 'undefined'},
                        ]
                    },
                    {
                        id: 'Function Properties of the Global Object',
                        children: [
                            eval,
                            isFinite,
                            isNaN,
                            parseFloat,
                            parseInt,
                            {
                                id: 'URI Handling Functions',
                                children: [
                                    decodeURI,
                                    decodeURIComponent,
                                    encodeURI,
                                    encodeURIComponent,
                                ]
                            }
                        ]
                    },
                    {
                        id: 'Constructor Properties of the Global Object',
                        children: [

                        ]
                    },
                    {
                        id: 'Other Properties of the Global Object',
                        children: [

                        ]
                    }
                ]
            },
            {
                id: 'Fundamental Objects',
                children: [
                    Object,
                    Function,
                    Boolean,
                    Symbol,
                    Error,
                ]
            },
            {
                id: 'Numbers and Dates',
                children: [
                    Number,
                    BigInt,
                    Math,
                    Date,
                ]
            },
            {
                id: 'Text Processing',
                children: [
                    String,
                    RegExp,
                ]
            },
            {
                id: 'Indexed Collections',
                children: [
                    Array,
                    {
                        id: 'TypedArray',
                        children: []
                    },
                ]
            },
            {
                id: 'Keyed Collections',
                children: [
                    Map,
                    Set,
                    WeakMap,
                    WeakSet,
                ]
            },
            {
                id: 'Structured Data',
                children: [
                    ArrayBuffer,
                    SharedArrayBuffer,
                    DataView,
                    Atomics,
                    JSON,
                ]
            },
            {
                id: 'Control Abstraction Objects',
                children: [{
                        id: 'Iteration',
                        children: []
                    },
                    {
                        id: 'GenerationFunction',
                        children: []
                    },
                    {
                        id: 'AsyncGeneratorFunction',
                        children: []
                    },
                    {
                        id: 'Generator',
                        children: []
                    },
                    {
                        id: 'AsyncGenerator',
                        children: []
                    },
                    Promise,
                    {
                        id: 'AsyncFunction',
                        children: []
                    },
                ]
            },
            {
                id: 'Reflection',
                children: [{
                        id: 'Reflect Object',
                        children: []
                    },
                    {
                        id: 'Proxy Objects',
                        children: []
                    },
                    {
                        id: 'Module Namespace Objects',
                        children: []
                    },
                ]
            },
        ]
    };
    console.log(data);
    const width = document.getElementById('container').scrollWidth;
    const height = document.getElementById('container').scrollHeight || screen.height - 200;
    const graph = new G6.TreeGraph({
        container: 'container',
        width,
        height,
        modes: {
            default: [{
                    type: 'collapse-expand',
                    onChange: function onChange(item, collapsed) {
                        const data = item.get('model').data;
                        data.collapsed = collapsed;
                        return true;
                    },
                },
                'drag-canvas',
                'zoom-canvas',
            ],
        },
        defaultNode: {
            size: 26,
            anchorPoints: [
                [0, 0.5],
                [1, 0.5],
            ],
            style: {
                fill: '#C6E5FF',
                stroke: '#5B8FF9',
            },
        },
        defaultEdge: {
            type: 'cubic-horizontal',
            style: {
                stroke: '#A3B1BF',
            },
        },
        layout: {
            type: 'compactBox',
            direction: 'LR',
            getId: function getId(d) {
                return d.id;
            },
            getHeight: function getHeight() {
                return 16;
            },
            getWidth: function getWidth() {
                return 16;
            },
            getVGap: function getVGap() {
                return 10;
            },
            getHGap: function getHGap() {
                return 100;
            },
        },
    });

    graph.node(function (node) {
        return {
            label: node.id,
            labelCfg: {
                offset: 10,
                position: node.children && node.children.length > 0 ? 'left' : 'right',
            },
        };
    });

    graph.data(data);
    graph.render();
    graph.fitView();
</script>