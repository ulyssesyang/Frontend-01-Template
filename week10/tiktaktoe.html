<style>
    #board {
        width: 350px;
    }

    .cell {
        width: 100px;
        height: 100px;
        border: solid 1px white;
        background-color: green;
        display: inline-block;
        vertical-align: middle;
        line-height: 100px;
        font-size: 50px;
        text-align: center;
    }

    .will-win {
        background: rgba(151, 74, 158, 0.726);
    }
</style>
<div id="board"></div>
<script>
    // set color code for grids: 0/1/2
    // initialize
    let pattern = [
        [2, 0, 0],
        [0, 1, 0],
        [0, 0, 0]
    ];
    let color = 1;

    function reset() {
        pattern = [
            [2, 0, 0],
            [0, 1, 0],
            [0, 0, 0]
        ];
        color = 1;
    }

    const render = () => {
        let board = document.getElementById('board');
        // refresh board for each render
        board.innerHTML = '';
        for (let i = 0; i < 3; i++) {
            for (let j = 0; j < 3; j++) {
                const cell = document.createElement('div');
                cell.classList.add('cell');
                cell.innerHTML =
                    pattern[i][j] === 2 ? '❌' :
                    pattern[i][j] === 1 ? '⭕️' :
                    '';
                cell.addEventListener('click', () => move(i, j));
                board.appendChild(cell);
            }
        }
    }

    function move(x, y) {
        // only reassign color code if grid is empty
        if (pattern[x][y] === 0) {
            pattern[x][y] = color;
            // reverse color code for next move
            color = 3 - color;
            render();
        }

        if (check(pattern, pattern[x][y], x, y)) {
            alert(pattern[x][y] === 2 ? '❌ is winner' : '⭕️ is winner');
            // re-initialize game after win
            reset();
            render();
        }

        willWin(pattern, color);
    }

    function check(pattern, color, x, y) {
        console.log(x, y)
        // default is true
        let res_row = true;
        let res_col = true;
        let res_lxs = true;
        let res_rxs = true;
        // check each row with same x
        for (let i = 0; i < 3; i++) {
            if (pattern[x][i] !== color) {
                res_row = false;
                break;
            }
        }
        // check each col with same y
        for (let i = 0; i < 3; i++) {
            if (pattern[i][y] !== color) {
                res_col = false;
                break;
            }
        }
        // check left cross line pattern
        for (let i = 0; i < 3; i++) {
            if (pattern[i][i] !== color) {
                res_lxs = false;
                break;
            }
        }
        // check right cross line pattern
        for (let i = 0; i < 3; i++) {
            if (pattern[i][2 - i] !== color) {
                res_rxs = false;
                break;
            }
        }

        console.log(res_row, res_col, res_lxs, res_rxs)

        // return true if any case matching
        return res_row || res_col || res_lxs || res_rxs;
    }

    function willWin(pattern, color) {
        for (let i = 0; i < 3; i++) {
            for (let j = 0; j < 3; j++) {
                if (pattern[i][j] === 0) {
                    // temporally assign color code to this empty grid
                    pattern[i][j] = color;
                    if (check(pattern, color, i, j)) {
                        console.log(color === 2 ? '❌ is winner' : '⭕️ is winner');
                        const position = i*3 + j + 1; 
                        const element  = document.querySelector(`#board div:nth-child(${position})`);
                        element.classList.add('will-win');
                    }
                    // revert back to empty
                    pattern[i][j] = 0;
                }
            }
        }
    }

    render();
</script>